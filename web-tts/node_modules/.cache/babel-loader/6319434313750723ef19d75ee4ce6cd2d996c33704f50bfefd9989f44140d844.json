{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Owner\\\\Desktop\\\\python\\\\TTS-systeam\\\\voice\\\\web-tts\\\\src\\\\compoment\\\\page\\\\test.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport { Application } from '@pixi/app';\nimport { Renderer } from '@pixi/core';\nimport { Ticker, TickerPlugin } from '@pixi/ticker';\nimport { InteractionManager } from '@pixi/interaction';\nimport { Live2DModel, MotionPreloadStrategy } from 'pixi-live2d-display';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Live2DComponent() {\n  _s();\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    // 注册必要的 PIXI 插件\n    Live2DModel.registerTicker(Ticker);\n    Application.registerPlugin(TickerPlugin);\n    Renderer.registerPlugin('interaction', InteractionManager);\n    const canvas = canvasRef.current;\n    const app = new Application({\n      backgroundAlpha: 0,\n      view: canvas,\n      width: window.innerWidth,\n      height: window.innerHeight\n    });\n\n    // 加载 Live2D 模型\n    Live2DModel.from('live2d/shizuku.model.json', {\n      autoInteract: false,\n      motionPreload: MotionPreloadStrategy.IDLE\n    }).then(model => {\n      app.stage.addChild(model);\n\n      // 设置模型的初始位置和大小\n      model.anchor.set(0.5, 0.5);\n      model.scale.set(0.5, 0.5);\n      model.position.set(app.screen.width / 2, app.screen.height / 2);\n\n      // 添加交互逻辑\n      canvas.addEventListener('pointerdown', event => {\n        model.focus(event.clientX, event.clientY);\n        model.tap(event.clientX, event.clientY);\n      });\n      canvas.addEventListener('pointermove', event => {\n        if (event.buttons === 1) {\n          model.focus(event.clientX, event.clientY);\n        }\n      });\n\n      // 添加其他事件处理...\n    });\n    return () => {\n      app.destroy(true, {\n        children: true\n      });\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 10\n  }, this);\n}\n_s(Live2DComponent, \"UJgi7ynoup7eqypjnwyX/s32POg=\");\n_c = Live2DComponent;\nexport default Live2DComponent;\nvar _c;\n$RefreshReg$(_c, \"Live2DComponent\");","map":{"version":3,"names":["React","useEffect","useRef","Application","Renderer","Ticker","TickerPlugin","InteractionManager","Live2DModel","MotionPreloadStrategy","jsxDEV","_jsxDEV","Live2DComponent","_s","canvasRef","registerTicker","registerPlugin","canvas","current","app","backgroundAlpha","view","width","window","innerWidth","height","innerHeight","from","autoInteract","motionPreload","IDLE","then","model","stage","addChild","anchor","set","scale","position","screen","addEventListener","event","focus","clientX","clientY","tap","buttons","destroy","children","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Owner/Desktop/python/TTS-systeam/voice/web-tts/src/compoment/page/test.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport { Application } from '@pixi/app';\r\nimport { Renderer } from '@pixi/core';\r\nimport { Ticker, TickerPlugin } from '@pixi/ticker';\r\nimport { InteractionManager } from '@pixi/interaction';\r\nimport { Live2DModel, MotionPreloadStrategy } from 'pixi-live2d-display';\r\n\r\n\r\n\r\nfunction Live2DComponent() {\r\n  const canvasRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // 注册必要的 PIXI 插件\r\n    Live2DModel.registerTicker(Ticker);\r\n    Application.registerPlugin(TickerPlugin);\r\n    Renderer.registerPlugin('interaction', InteractionManager);\r\n\r\n    const canvas = canvasRef.current;\r\n    const app = new Application({\r\n      backgroundAlpha: 0,\r\n      view: canvas,\r\n      width: window.innerWidth,\r\n      height: window.innerHeight,\r\n    });\r\n\r\n    // 加载 Live2D 模型\r\n    Live2DModel.from('live2d/shizuku.model.json', {\r\n      autoInteract: false,\r\n      motionPreload: MotionPreloadStrategy.IDLE\r\n    }).then(model => {\r\n      app.stage.addChild(model);\r\n\r\n      // 设置模型的初始位置和大小\r\n      model.anchor.set(0.5, 0.5);\r\n      model.scale.set(0.5, 0.5);\r\n      model.position.set(app.screen.width / 2, app.screen.height / 2);\r\n\r\n      // 添加交互逻辑\r\n      canvas.addEventListener('pointerdown', (event) => {\r\n        model.focus(event.clientX, event.clientY);\r\n        model.tap(event.clientX, event.clientY);\r\n      });\r\n\r\n      canvas.addEventListener('pointermove', (event) => {\r\n        if (event.buttons === 1) {\r\n          model.focus(event.clientX, event.clientY);\r\n        }\r\n      });\r\n\r\n      // 添加其他事件处理...\r\n    });\r\n\r\n    return () => {\r\n      app.destroy(true, { children: true });\r\n    };\r\n  }, []);\r\n\r\n  return <canvas ref={canvasRef} />;\r\n}\r\n\r\nexport default Live2DComponent;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,SAASC,WAAW,QAAQ,WAAW;AACvC,SAASC,QAAQ,QAAQ,YAAY;AACrC,SAASC,MAAM,EAAEC,YAAY,QAAQ,cAAc;AACnD,SAASC,kBAAkB,QAAQ,mBAAmB;AACtD,SAASC,WAAW,EAAEC,qBAAqB,QAAQ,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAIzE,SAASC,eAAeA,CAAA,EAAG;EAAAC,EAAA;EACzB,MAAMC,SAAS,GAAGZ,MAAM,CAAC,IAAI,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACd;IACAO,WAAW,CAACO,cAAc,CAACV,MAAM,CAAC;IAClCF,WAAW,CAACa,cAAc,CAACV,YAAY,CAAC;IACxCF,QAAQ,CAACY,cAAc,CAAC,aAAa,EAAET,kBAAkB,CAAC;IAE1D,MAAMU,MAAM,GAAGH,SAAS,CAACI,OAAO;IAChC,MAAMC,GAAG,GAAG,IAAIhB,WAAW,CAAC;MAC1BiB,eAAe,EAAE,CAAC;MAClBC,IAAI,EAAEJ,MAAM;MACZK,KAAK,EAAEC,MAAM,CAACC,UAAU;MACxBC,MAAM,EAAEF,MAAM,CAACG;IACjB,CAAC,CAAC;;IAEF;IACAlB,WAAW,CAACmB,IAAI,CAAC,2BAA2B,EAAE;MAC5CC,YAAY,EAAE,KAAK;MACnBC,aAAa,EAAEpB,qBAAqB,CAACqB;IACvC,CAAC,CAAC,CAACC,IAAI,CAACC,KAAK,IAAI;MACfb,GAAG,CAACc,KAAK,CAACC,QAAQ,CAACF,KAAK,CAAC;;MAEzB;MACAA,KAAK,CAACG,MAAM,CAACC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC;MAC1BJ,KAAK,CAACK,KAAK,CAACD,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC;MACzBJ,KAAK,CAACM,QAAQ,CAACF,GAAG,CAACjB,GAAG,CAACoB,MAAM,CAACjB,KAAK,GAAG,CAAC,EAAEH,GAAG,CAACoB,MAAM,CAACd,MAAM,GAAG,CAAC,CAAC;;MAE/D;MACAR,MAAM,CAACuB,gBAAgB,CAAC,aAAa,EAAGC,KAAK,IAAK;QAChDT,KAAK,CAACU,KAAK,CAACD,KAAK,CAACE,OAAO,EAAEF,KAAK,CAACG,OAAO,CAAC;QACzCZ,KAAK,CAACa,GAAG,CAACJ,KAAK,CAACE,OAAO,EAAEF,KAAK,CAACG,OAAO,CAAC;MACzC,CAAC,CAAC;MAEF3B,MAAM,CAACuB,gBAAgB,CAAC,aAAa,EAAGC,KAAK,IAAK;QAChD,IAAIA,KAAK,CAACK,OAAO,KAAK,CAAC,EAAE;UACvBd,KAAK,CAACU,KAAK,CAACD,KAAK,CAACE,OAAO,EAAEF,KAAK,CAACG,OAAO,CAAC;QAC3C;MACF,CAAC,CAAC;;MAEF;IACF,CAAC,CAAC;IAEF,OAAO,MAAM;MACXzB,GAAG,CAAC4B,OAAO,CAAC,IAAI,EAAE;QAAEC,QAAQ,EAAE;MAAK,CAAC,CAAC;IACvC,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,oBAAOrC,OAAA;IAAQsC,GAAG,EAAEnC;EAAU;IAAAoC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACnC;AAACxC,EAAA,CAlDQD,eAAe;AAAA0C,EAAA,GAAf1C,eAAe;AAoDxB,eAAeA,eAAe;AAAC,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}